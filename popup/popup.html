<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GitHub AI Context Builder</title>
    <link rel="stylesheet" href="popup.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <!-- Modified h1 to include branch span -->
            <h1 id="repo-title" title="Repository name">
                Loading Repository...
                <span id="repo-branch" class="repo-branch-display" title="Current branch/ref"></span>
            </h1>
            <div class="actions">
                <button id="copy-button" title="Copy selected file content to clipboard" disabled>
                    <span class="icon">ðŸ“‹</span> Copy Context
                </button>
                <button id="refresh-button" title="Refresh file tree">
                    <span class="icon">ðŸ”„</span> Refresh
                </button>
            </div>
        </div>

        <div id="status-message" class="status hidden"></div>
        <div id="error-message" class="error hidden"></div>

        <div class="controls">
            <div class="control-buttons"> <!-- Added wrapper for buttons -->
                 <button id="expand-all" title="Expand all folders">Expand All</button>
                 <button id="collapse-all" title="Collapse all folders">Collapse All</button>
            </div>
            <div class="selection-info">
                 <!-- Size and Tokens removed from here -->
                 <span id="selected-count">Selected: 0 files</span>
            </div>
        </div>


        <div id="file-tree-container">
            <!-- File tree will be dynamically generated here -->
            <div class="loading-indicator">Loading file tree...</div>
        </div>

        <div class="footer">
             <!-- Moved Size and Tokens here -->
             <div class="footer-selection-info">
                 <span id="selected-size-footer">Total Size: 0 B</span>
                 <span id="selected-tokens-footer" title="Estimated token count based on file size (approx. 4 bytes/token)">Est. Tokens: ~0</span>
            </div>
             <span id="perf-stats" class="perf-stats"></span>
        </div>

        <div class="version-info">
            <div class="version-details">
                <span>Current: <span id="current-version">-</span></span>
                <span>Latest: <span id="latest-version">-</span></span>
                <span>Last checked: <span id="last-checked">Never</span></span>
            </div>
            <button id="check-updates-button" class="check-updates-btn" title="Check for updates now">Check now</button>
        </div>

    </div>
    <!-- Import logic script as module -->
    <script type="module" src="../dist/popup_bundle.js"></script>
</body>
</html>